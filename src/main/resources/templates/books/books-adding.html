<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">

<head>
    <meta charset="UTF-8"/>
    <title th:text="#{online_library}">YummyBook</title>
    <link th:href="@{../../static/css/dialog.css}" rel="stylesheet"/>
    <link th:href="@{../../static/css/books.css}" rel="stylesheet"/>
    <link th:href="@{../../static/css/footer.css}" rel="stylesheet"/>
</head>

<body>

<div th:fragment="books-adding">
    <div id="dialogEditBook" style="width: 750px">

        <div id="formEditBook">

            <div class="popup-info">
                <form enctype="multipart/form-data" class="avatar-box" action="/saveBook" method="post">
                    <div class="avatar-box">


                        <!-- загрузка обложки книги -->
                        <img width="240" height="320" id="bookImage" th:src="${noImage}"/>

                        <input type="file" name="bookImage" accept="image/jpeg,image/png" required id="imageUpload"/>


                    </div>

                    <div>
                        <div class="block">
                            <p th:text="ID"></p>

                            <div>
                                <input type="number" size="40" id="inputBookId" name="bookId" th:value="1" required/>
                            </div>
                        </div>
                        <div class="block">
                            <p th:text="#{subj_name}"></p>

                            <div>
                                <input type="text" size="40" id="inputBookName" name="bookName" required/>
                            </div>
                        </div>


                        <div class="block">
                            <p th:text="#{author}"></p>

                            <div>
                                <select id="authorList" name="bookAuthor" required>
                                    <option th:each="author, iStat : ${authorList}" th:text="${author.fio}" th:value="${author.id}"></option>
                                </select>
                            </div>
                        </div>


                        <div class="block">
                            <p th:text="#{genre}"></p>

                            <div>
                                <select id="genreList" name="bookGenre" required>
                                    <option th:each="genre, iStat : ${genreList}" th:text="${genre.name}" th:value="${genre.id}"></option>
                                </select>
                            </div>
                        </div>


                        <div class="block">
                            <p th:text="#{publisher}"></p>

                            <div>
                                <select id="publisherList" name="bookPublisher" required>
                                    <option th:each="publisher, iStat : ${publisherList}" th:text="${publisher.name}" th:value="${publisher.id}"></option>
                                </select>
                            </div>
                        </div>


                        <div class="block">
                            <p>ISBN</p>

                            <div>
                                <input type="text" size="40" id="isbn" name="bookISBN" required/>
                            </div>
                        </div>


                        <div class="block">
                            <p th:text="#{year}"></p>

                            <div>
                                <input type="number" min="0" max="2025" id="year" name="bookYear" required/>
                            </div>
                        </div>


                        <div class="block">
                            <p th:text="#{page_count}"></p>

                            <div>
                                <input type="number" min="0" max="10000" id="page_count" name="bookPageCount" required/>
                            </div>
                        </div>


                        <div class="block">
                            <p th:text="#{content}"></p>

                            <div>
                                <div class="loaded">

                                    <!-- загрузка PDF контента -->
                                    <input type="file" name="bookContent" accept="application/pdf" id="contentUpload"/>

                                </div>

                            </div>
                        </div>

                        <div class="block">
                            <p th:text="viewCount"></p>

                            <div>
                                <input type="number" size="40" name="bookViewCount" th:value="0" required/>
                            </div>
                        </div>
                        <div class="block">
                            <p th:text="totalRating"></p>

                            <div>
                                <input type="number" size="40" name="bookTotalRating" th:value="0" required/>
                            </div>
                        </div>
                        <div class="block">
                            <p th:text="totalVoteCount"></p>

                            <div>
                                <input type="number" size="40" name="bookTotalVoteCount" th:value="0" required/>
                            </div>
                        </div>
                        <div class="block">
                            <p th:text="avgRating"></p>

                            <div>
                                <input type="number" size="40" name="bookAvgRating" th:value="0" required/>
                            </div>
                        </div>

                        <div class="block">
                            <p th:text="#{descr}"></p>
                            <textarea cols="30" id="descr" name="bookDescr" required></textarea>
                            <div>
                                <input type="submit" th:value="#{save}"/>
                            </div>
                        </div>

                    </div>
                </form>


            </div>

        </div>

    </div>
</div>

</body>

</html>